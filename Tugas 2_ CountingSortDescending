package Tugas_02;

public class CountingSort {

    public static void countingSortDescending(int[] arr) {
        if (arr.length == 0) {
            return;
        }

        // Berfungsi untuk mencari nilai maksimum (k) dalam array untuk menentukan ukuran array hitungan (count).
        int max = arr[0]; 
        for (int num : arr) {
            if (num > max) {
                max = num;
            }
        }
    
        // Array ini akan menyimpan frekuensi kemunculan setiap elemen.
        int[] count = new int[max + 1];

        // Menghitung frekuensi setiap elemen dan menyimpannya di array 'count'.
        for (int num : arr) {
            count[num]++;
        }

        // Dari setiap elemen di array output yang akan diurutkan.
        for (int i = 1; i <= max; i++) {
            count[i] += count[i - 1];
        }

        // Membuat array 'output' sementara untuk menyimpan hasil pengurutan tersebut.
        int[] output = new int[arr.length];

        // Untuk memastikan stabilitas (jika ada elemen yang sama).
        for (int i = arr.length - 1; i >= 0; i--) {
            output[count[arr[i]] - 1] = arr[i];
            count[arr[i]]--;
        }

        // --- Perubahan untuk Descending ---
        // Kita perlu membalikkan urutan ini ke array asli 'arr'.
        int j = 0;
        for (int i = arr.length - 1; i >= 0; i--) {
            arr[j] = output[i];
            j++;
        }
    }

    public static void main(String[] args) {
        // Mendefinisikan variabel nilai (minimal 8 elemen)
        int[] data = {25, 12, 80, 5, 42, 10, 55, 30};

        // Berfungsi untuk menampilkan data yang belum diurutkan
        System.out.println("Data sebelum diurutkan:");
        for (int num : data) {
            System.out.print(num + " ");
        }

        // Memanggil metode pengurutan dengan countingsort
        countingSortDescending(data);

        // Berfungsi untuk menampilkan data yang sudah diurutkan besar ke kecil
        System.out.println("\n\nData setelah diurutkan (terbesar ke terkecil):");
        for (int num : data) {
            System.out.print(num + " ");
        }
        System.out.println("\n");
    }
}
